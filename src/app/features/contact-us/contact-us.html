<section class="container-app py-10">
  <div class="mx-auto max-w-md">
    <!-- Header -->
    <header class="text-center mb-6">
      <h1 class="text-3xl sm:text-4xl font-extrabold tracking-tight">Contact us</h1>
      <p class="mt-2 text-sm sm:text-base" style="color: rgb(var(--muted))">
        Have a question or feedback? Send us a message and we’ll get back to you.
      </p>
    </header>

    <!-- Card -->
    <section class="card p-5 sm:p-6">
      <form class="grid gap-4" [formGroup]="formGroup" (ngSubmit)="submit()">
        <!-- Name -->
        <div>
          <label for="contact-name" class="block text-sm font-medium mb-1">Name</label>
          <input
            id="contact-name"
            class="input"
            type="text"
            formControlName="name"
            placeholder="Your name"
            autocomplete="name"
          />

          @if (showNameRequiredError) {
          <p class="mt-2 text-sm" style="color: rgb(var(--danger))">Name is required.</p>
          }
        </div>

        <!-- Email -->
        <div>
          <label for="contact-email" class="block text-sm font-medium mb-1">Email</label>
          <input
            id="contact-email"
            class="input"
            type="email"
            formControlName="email"
            placeholder="you@example.com"
            autocomplete="email"
          />

          @if (showEmailRequiredError) {
          <p class="mt-2 text-sm" style="color: rgb(var(--danger))">Email is required.</p>
          } @if (showEmailInvalidError) {
          <p class="mt-2 text-sm" style="color: rgb(var(--danger))">Please enter a valid email.</p>
          }
        </div>

        <!-- Subject -->
        <div>
          <label for="contact-subject" class="block text-sm font-medium mb-1">Subject</label>
          <input
            id="contact-subject"
            class="input"
            type="text"
            formControlName="subject"
            placeholder="What’s this about?"
          />

          @if (showSubjectRequiredError) {
          <p class="mt-2 text-sm" style="color: rgb(var(--danger))">Subject is required.</p>
          } @if (showSubjectMinLengthError) {
          <p class="mt-2 text-sm" style="color: rgb(var(--danger))">
            Subject must be at least 3 characters.
          </p>
          }
        </div>

        <!-- Message -->
        <div>
          <label for="contact-message" class="block text-sm font-medium mb-1">Message</label>
          <textarea
            id="contact-message"
            class="details-textarea"
            formControlName="message"
            rows="5"
            placeholder="Write your message…"
          ></textarea>

          @if (showMessageRequiredError) {
          <p class="mt-2 text-sm" style="color: rgb(var(--danger))">Message is required.</p>
          } @if (showMessageMinLengthError) {
          <p class="mt-2 text-sm" style="color: rgb(var(--danger))">
            Message must be at least 10 characters.
          </p>
          }
        </div>

        <!-- Actions -->
        <div class="pt-2 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between">
          <a routerLink="/home" class="btn btn-ghost w-full sm:w-auto text-center">Back</a>

          <button
            type="submit"
            class="btn btn-primary w-full sm:w-auto"
            [disabled]="formGroup.invalid || submitting()"
          >
            @if (submitting()) { Sending… } @else { Send message }
          </button>
        </div>

        <!-- Footer note -->
        <p class="text-center text-xs mt-2" style="color: rgb(var(--muted))">
          We usually respond within 1–2 business days.
        </p>
      </form>
    </section>
  </div>
</section>
